{% extends "base.html" %}
{% block content %}
<h2>{{ course.title }}</h2>
<p>{{ course.description }}</p>
<p>Price: {{ course.price }}</p>
<p>Created on: {{ course.created_at }}</p>

<h3>Lectures</h3>
<ul>
    {% for lecture in lectures %}
        <li>
            <strong>{{ lecture.title }}</strong>
            <br>{{ lecture.content|truncatewords:20 }}

            {% if lecture.video %}
                <br>
                <video width="320" controls>
                    <source src="{{ lecture.video.url }}" type="video/mp4">
                </video>
            {% endif %}

            {% if lecture.file %}
                <br><a href="{{ lecture.file.url }}">Download File</a>
            {% endif %}
        </li>
    {% empty %}
        <li>No lectures yet.</li>
    {% endfor %}
</ul>

<a href="{% url 'instructor:add_lecture' course.id %}">+ Add Lecture</a>
<a href="{% url 'instructor:course_edit' course.id %}">Edit Course</a>
<a href="{% url 'instructor:course_progress_report' course.id %}">View Progress</a>
<a href="{% url 'instructor:add_event' course.id %}">Add Event</a>
{% endblock %}

